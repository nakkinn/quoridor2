# コリドール（2人用・9×9）ゲームルール
 
## 1. ゲーム概要
- 本ゲームは2人用の対戦型ボードゲームである。
- 盤面は9×9のマスで構成される。
- 各プレイヤーは自分の駒を1つ持つ。
- 自分の駒を、相手側の最奥ライン（スタート地点の反対側の横一列）に先に到達させたプレイヤーが勝利する。
 
---
 
## 2. 盤面と座標の定義（論理仕様）
 
### 2.1 マスとすきま
- 盤面は、マスとその間のすきまを含めて 17×17 の格子 として論理的に表現できる。
- 行・列番号はともに 1〜17 とする。
- 以下の規則でセルの意味を定義する：
  - 行番号・列番号が ともに奇数 → マス
  - それ以外 → マス間のすきま
 
※ 実装上、必ずしも 17×17 の配列を使う必要はないが、  
　以下の壁・移動判定はこの定義に基づいて説明される。
 
---
 
## 3. 初期配置
 
- 各プレイヤーは、自分に最も近い横一列（盤面端の1列）に駒を配置する。
- 先手プレイヤーが最初に配置位置を選び、その後に後手プレイヤーが配置する。
- 両プレイヤーの初期配置列は異なるため、初期状態で同じマスに配置されることはない。
- 初期状態では盤面上に壁は存在しない。
- 各プレイヤーは、壁を最大10個まで使用できる。
 
---
 
## 4. 手番
 
- プレイヤーは交互に手番を行う。
- 手番では、以下のいずれか一つを実行する：
  1. 自分の駒を移動する
  2. 壁を1つ設置する
 
---
 
## 5. 駒の移動ルール
 
### 5.1 基本移動
- 駒は、前・後・左・右のいずれかの方向に 1マス 移動できる。
- 以下の場合、その方向への移動はできない：
  - 移動先が盤面外である場合
  - 自分のマスと移動先マスの間に壁が存在する場合
 
---
 
### 5.2 相手駒を飛び越える移動
- 自分の駒の隣接マス（前後左右）に相手の駒が存在する場合、
  以下の条件をすべて満たせば、その相手駒を飛び越えて同じ方向に 2マス先 へ移動できる：
  - 自分の駒と相手駒の間に壁が存在しない
  - 相手駒と着地点の間に壁が存在しない
  - 着地点が盤面内である
 
---
 
### 5.3 斜め移動
- 以下の条件をすべて満たす場合、斜め方向（左右いずれか）に 1マス 移動できる：
  1. 自分の駒の隣接マス（前後左右のいずれか）に相手の駒が存在する
  2. 相手駒のさらに奥のマスが、以下のいずれかである：
     - 盤面外である
     - 壁によって遮られている
- 斜め移動は、以下の判定で合法とする：
  - 「自分の駒 → 相手駒」の間に壁が存在しない
  - 「相手駒 → 斜め移動先」の経路に壁が存在しない
 
※ 斜め移動は左右両方向について独立に判定し、  
　片方のみ合法な場合は、その方向のみ移動可能とする。
 
---
 
## 6. 壁の設置ルール
 
### 6.1 壁の仕様
- 壁は 2マス分の長さ を持つ。
- 壁はマスとマスの間に設置される。
- 壁には縦向きと横向きが存在する。
 
### 6.2 壁の座標条件（17×17表現）
- 壁は、縦または横方向に 連続する3つのセル 占有する。
- その3セルのうち、中央のセルは偶数行かつ偶数列 でなければならない。
 
### 6.3 壁設置の禁止条件
- 以下の条件に該当する壁は設置できない：
  - 盤面外にはみ出すもの
  - 既存の壁とセルを共有するもの
 
### 6.4 通路保証
- いかなる場合でも、壁の設置によって
  自分または相手がゴールラインへ到達不可能になる状態を作ってはならない。
- 壁設置後の盤面において、両プレイヤーに対して
  少なくとも1つ以上のゴール到達経路が存在する必要がある。
 
---
 
## 7. 勝利条件
- 自分の駒が、相手側の最奥ラインのいずれかのマスに到達した時点で、そのプレイヤーの勝利とする。
- 勝利は駒の移動によってのみ達成される。
 
---
 
## 8. 補足ルール
- 手数制限は設けない。
- 同一局面の繰り返し（千日手）は現時点では許可する。